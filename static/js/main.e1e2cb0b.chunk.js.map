{"version":3,"sources":["assets/sprite.png","context/AppContext.tsx","constants/BACKGROUND.tsx","constants/OBSTACLES.tsx","constants/TREX.tsx","models/Game.tsx","components/Sprite.tsx","components/Background.tsx","components/Trex.tsx","components/Game.tsx","components/App.tsx","index.tsx"],"names":["module","exports","defaultState","canvas","width","height","paddingY","paddingX","AppContext","React","createContext","AppContextProvider","state","children","this","props","react_default","a","createElement","Provider","value","Component","BACKGROUND","CLOUD","animation","spriteX","spriteY","HORIZON","MOON","STAR","OBSTACLES","CACTUS_LARGE","CACTUS_SMALL","PTERODACTYL","TREX","DEFAULT","TREX_LEFT","TREX_RIGHT","Game","_this","obstacles","find","obstacle","x","counter","trex_y","merge","Record","createdAt","Date","type","speed","Sprite","image","window","Image","src","sprite","_ref","_this$props","y","frameIndex","frameRate","ReactKonva","ref","node","start","animations","Object","defineProperty","Background","Consumer","_ref$canvas","rest","Fragment","components_Sprite","Trex","interval","jumpInterval","game","GameModel","onKeyDown","e","preventDefault","code","startGame","onJump","document","addEventListener","_this2","requestAnimationFrame","counterFrame","hasCollision","gameOver","setState","incrementCounter","cancelAnimationFrame","console","log","_this3","originalCounter","_ref2","incrementTrexY","_ref3","decrementTrexY","_ref4","_ref4$canvas","text","concat","components_Trex","components_Background","map","App","AppContext_AppContextProvider","components_Game","ReactDOM","render","components_App","getElementById"],"mappings":"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","file":"static/js/main.e1e2cb0b.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React, { Component } from 'react';\n\ninterface Config {\n  canvas: {\n    width: number;\n    height: number;\n    paddingY: number;\n    paddingX: number;\n  };\n}\n\nconst defaultState: Config = {\n  canvas: {\n    width: 700,\n    height: 500,\n    paddingY: 100,\n    paddingX: 100\n  }\n};\n\nconst AppContext = React.createContext(defaultState);\n\nclass AppContextProvider extends React.Component<{ children: any }, {}> {\n  public state = defaultState;\n\n  public render() {\n    const { children } = this.props;\n\n    return (\n      <AppContext.Provider value={this.state}>{children}</AppContext.Provider>\n    );\n  }\n}\n\nexport { AppContextProvider, AppContext };\n","const BACKGROUND = {\n  CLOUD: {\n    animation: 'CLOUD',\n    width: 64,\n    height: 64,\n    spriteX: 166,\n    spriteY: 2\n  },\n  HORIZON: {\n    animation: 'HORIZON',\n    width: 700,\n    height: 20,\n    spriteX: 2,\n    spriteY: 104\n  },\n  MOON: {\n    animation: 'MOON',\n    width: 954,\n    height: 64,\n    spriteX: 2,\n    spriteY: 104\n  },\n  STAR: {\n    animation: 'STAR',\n    width: 64,\n    height: 64,\n    spriteX: 1276,\n    spriteY: 104\n  }\n};\n\nexport default BACKGROUND;\n","const OBSTACLES = {\n  CACTUS_LARGE: {\n    animation: 'CACTUS_LARGE',\n    width: 50,\n    height: 105,\n    spriteX: 652,\n    spriteY: 2\n  },\n  CACTUS_SMALL: {\n    animation: 'CACTUS_SMALL',\n    width: 70,\n    height: 90,\n    spriteX: 446,\n    spriteY: 2\n  },\n  PTERODACTYL: {\n    animation: 'PTERODACTYL',\n    width: 90,\n    height: 100,\n    spriteX: 260,\n    spriteY: 2\n  }\n};\n\nexport default OBSTACLES;\n","const TREX = {\n  DEFAULT: {\n    animation: 'TREX',\n    width: 90,\n    height: 88,\n    spriteX: 1678,\n    spriteY: 2\n  },\n  TREX_LEFT: {\n    animation: 'TREX_LEFT',\n    width: 90,\n    height: 88,\n    spriteX: 1852,\n    spriteY: 2\n  },\n  TREX_RIGHT: {\n    animation: 'TREX_RIGHT',\n    width: 90,\n    height: 88,\n    spriteX: 1940,\n    spriteY: 2\n  }\n};\n\nexport default TREX;\n","import { Record } from 'immutable';\n\nconst GameRecord = Record(\n  {\n    counter: 0,\n    createdAt: new Date(),\n    obstacles: [\n      { type: 'CACTUS_LARGE', x: 250, height: 64 },\n      { type: 'CACTUS_SMALL', x: 500, height: 64 },\n      { type: 'PTERODACTYL', x: 750, height: 64 },\n      { type: 'CACTUS_LARGE', x: 1000, height: 64 }\n    ],\n    // /!\\ y from bottom, it's reversed from the canvas logic\n    trex_y: 0,\n    speed: 1\n  },\n  'Game'\n);\n\nclass Game extends GameRecord {\n  public hasCollision(): boolean {\n    return !!this.obstacles.find(\n      obstacle => obstacle.x === this.counter && this.trex_y === 0\n    );\n  }\n\n  public incrementCounter(): Game {\n    return this.merge({ counter: this.counter + 1 });\n  }\n\n  public incrementTrexY(): Game {\n    return this.merge({ trex_y: this.trex_y + 2 });\n  }\n\n  public decrementTrexY(): Game {\n    return this.merge({ trex_y: this.trex_y - 2 });\n  }\n}\n\nexport default Game;\n","import React, { Component } from 'react';\nimport { Sprite as KonvaSprite } from 'react-konva';\nimport sprite from '../assets/sprite.png';\nimport { BACKGROUND, OBSTACLES, TREX } from '../constants';\n\nclass Sprite extends React.Component<\n  {\n    animation: string;\n    x: number;\n    y: number;\n    frameIndex?: number;\n    frameRate?: number;\n  },\n  any\n> {\n  public state = {\n    image: new (window as any).Image()\n  };\n\n  public componentDidMount() {\n    this.state.image.src = sprite;\n  }\n\n  public render() {\n    const { animation, x, y, frameIndex, frameRate } = this.props;\n\n    return (\n      <KonvaSprite\n        ref={(node: any) => {\n          if (node) {\n            node.start();\n          }\n        }}\n        image={this.state.image}\n        animation={animation}\n        x={x}\n        y={y}\n        frameIndex={frameIndex}\n        frameRate={frameRate}\n        animations={\n          // x,y,width,height\n          {\n            [OBSTACLES.CACTUS_LARGE.animation]: [\n              OBSTACLES.CACTUS_LARGE.spriteX,\n              OBSTACLES.CACTUS_LARGE.spriteY,\n              OBSTACLES.CACTUS_LARGE.width,\n              OBSTACLES.CACTUS_LARGE.height\n            ],\n            [OBSTACLES.CACTUS_SMALL.animation]: [\n              OBSTACLES.CACTUS_SMALL.spriteX,\n              OBSTACLES.CACTUS_SMALL.spriteY,\n              OBSTACLES.CACTUS_SMALL.width,\n              OBSTACLES.CACTUS_SMALL.height\n            ],\n            [OBSTACLES.PTERODACTYL.animation]: [\n              OBSTACLES.PTERODACTYL.spriteX,\n              OBSTACLES.PTERODACTYL.spriteY,\n              OBSTACLES.PTERODACTYL.width,\n              OBSTACLES.PTERODACTYL.height\n            ],\n            [TREX.DEFAULT.animation]: [\n              TREX.DEFAULT.spriteX,\n              TREX.DEFAULT.spriteY,\n              TREX.DEFAULT.width,\n              TREX.DEFAULT.height\n            ],\n            ['TREX_WALKING']: [\n              TREX.TREX_LEFT.spriteX,\n              TREX.TREX_LEFT.spriteY,\n              TREX.TREX_LEFT.width,\n              TREX.TREX_LEFT.height,\n              TREX.TREX_RIGHT.spriteX,\n              TREX.TREX_RIGHT.spriteY,\n              TREX.TREX_RIGHT.width,\n              TREX.TREX_RIGHT.height\n            ],\n            [BACKGROUND.CLOUD.animation]: [\n              BACKGROUND.CLOUD.spriteX,\n              BACKGROUND.CLOUD.spriteY,\n              BACKGROUND.CLOUD.width,\n              BACKGROUND.CLOUD.height\n            ],\n            [BACKGROUND.HORIZON.animation]: [\n              BACKGROUND.HORIZON.spriteX,\n              BACKGROUND.HORIZON.spriteY,\n              BACKGROUND.HORIZON.width,\n              BACKGROUND.HORIZON.height\n            ],\n            [BACKGROUND.MOON.animation]: [\n              BACKGROUND.MOON.spriteX,\n              BACKGROUND.MOON.spriteY,\n              BACKGROUND.MOON.width,\n              BACKGROUND.MOON.height\n            ],\n            [BACKGROUND.STAR.animation]: [\n              BACKGROUND.STAR.spriteX,\n              BACKGROUND.STAR.spriteY,\n              BACKGROUND.STAR.width,\n              BACKGROUND.STAR.height\n            ]\n          }\n        }\n      />\n    );\n  }\n}\n\nexport default Sprite;\n","import React, { Component } from 'react';\nimport { AppContext } from '../context/AppContext';\nimport Sprite from './Sprite';\n\nclass Background extends React.Component<{ counter: number }, any> {\n  public render() {\n    const { counter } = this.props;\n\n    return (\n      <AppContext.Consumer>\n        {({ canvas: { width, height, paddingY } }) => {\n          const rest = counter % width;\n\n          return (\n            <React.Fragment>\n              <Sprite animation=\"HORIZON\" x={0 - rest} y={height - paddingY} />\n              <Sprite\n                animation=\"HORIZON\"\n                x={width - rest}\n                y={height - paddingY}\n              />\n            </React.Fragment>\n          );\n        }}\n      </AppContext.Consumer>\n    );\n  }\n}\n\nexport default Background;\n","import React, { Component } from 'react';\nimport Sprite from './Sprite';\n\nclass Trex extends React.Component<{ x: number; y: number; counter: number }> {\n  public render() {\n    const { counter, x, y } = this.props;\n    if (counter === 0) {\n      return <Sprite animation=\"TREX\" x={x} y={y} />;\n    }\n\n    return (\n      <Sprite\n        animation=\"TREX_WALKING\"\n        frameRate={2}\n        frameIndex={0}\n        x={x}\n        y={y}\n      />\n    );\n  }\n}\n\nexport default Trex;\n","import React, { Component } from 'react';\nimport { Layer, Text } from 'react-konva';\nimport { TREX } from '../constants';\nimport { AppContext } from '../context/AppContext';\nimport GameModel from '../models/Game';\nimport Background from './Background';\nimport Sprite from './Sprite';\nimport Trex from './Trex';\n\nclass Game extends React.Component<{}, { game: GameModel }> {\n  public interval: any = null;\n  public jumpInterval: any = null;\n  public state = { game: new GameModel() };\n\n  public componentDidMount() {\n    document.addEventListener('keydown', this.onKeyDown);\n  }\n\n  public onKeyDown = (e: KeyboardEvent) => {\n    e.preventDefault();\n    const { game } = this.state;\n\n    if (e.code === 'ArrowUp' || e.code === 'Space') {\n      if (game.counter === 0) {\n        this.startGame();\n      } else {\n        this.onJump();\n      }\n    }\n  };\n\n  public startGame() {\n    const counterFrame = () => {\n      const { game } = this.state;\n\n      if (game.hasCollision()) {\n        this.gameOver();\n      } else {\n        this.setState(({ game: gameState }) => ({\n          game: gameState.incrementCounter()\n        }));\n        this.interval = requestAnimationFrame(counterFrame);\n      }\n    };\n    this.interval = requestAnimationFrame(counterFrame);\n  }\n\n  public gameOver() {\n    cancelAnimationFrame(this.interval);\n    // tslint:disable-next-line\n      console.log('GAME OVER');\n  }\n\n  public onJump() {\n    // If already jumping, do nothing\n    if (this.jumpInterval) {\n      return;\n    }\n\n    const originalCounter = this.state.game.counter;\n\n    const onJump = () => {\n      const { game } = this.state;\n\n      if (game.counter - originalCounter < 100) {\n        this.setState(({ game: stateGame }) => ({\n          game: stateGame.incrementTrexY()\n        }));\n        this.jumpInterval = requestAnimationFrame(onJump);\n      } else if (game.counter - originalCounter < 199) {\n        this.setState(({ game: stateGame }) => ({\n          game: stateGame.decrementTrexY()\n        }));\n        this.jumpInterval = requestAnimationFrame(onJump);\n      } else {\n        cancelAnimationFrame(this.jumpInterval);\n        this.jumpInterval = null;\n      }\n    };\n    this.jumpInterval = requestAnimationFrame(onJump);\n  }\n\n  public render() {\n    const { game } = this.state;\n\n    return (\n      <AppContext.Consumer>\n        {({ canvas: { width, height, paddingY, paddingX } }) => (\n          <Layer>\n            <Text\n              text={`Counter: ${game.counter}`}\n              x={width - paddingX}\n              y={paddingY}\n            />\n            <Trex\n              counter={game.counter}\n              x={0}\n              y={height - paddingY - game.trex_y - TREX.DEFAULT.height}\n            />\n            <Background counter={game.counter * game.speed} />\n            {game.obstacles.map(obstacle => {\n              const x = obstacle.x - game.counter;\n\n              // Only display visible items for performances\n              return x > -paddingY && x <= width ? (\n                <Sprite\n                  x={x}\n                  animation={obstacle.type}\n                  y={height - paddingY - obstacle.height}\n                />\n              ) : null;\n            })}\n          </Layer>\n        )}\n      </AppContext.Consumer>\n    );\n  }\n}\n\nexport default Game;\n","import React, { Component } from 'react';\nimport { Stage } from 'react-konva';\nimport { AppContext, AppContextProvider } from '../context/AppContext';\nimport Game from './Game';\n\nclass App extends React.Component {\n  public render() {\n    return (\n      <AppContextProvider>\n        <AppContext.Consumer>\n          {({ canvas: { width, height } }) => (\n            <Stage width={width} height={height}>\n              <Game />\n            </Stage>\n          )}\n        </AppContext.Consumer>\n      </AppContextProvider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}